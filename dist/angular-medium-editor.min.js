/**
 * angular-medium-editor
 * @version v0.1.1 - 2015-04-12
 * @link https://github.com/thijsw/angular-medium-editor
 * @author Thijs Wijnmaalen <thijs@wijnmaalen.name>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{require:"ngModel",restrict:"AE",scope:{bindOptions:"=",options:"="},link:function(e,i,t,n){angular.element(i).addClass("angular-medium-editor");var o={},r="",l=function(){o=e.options;var i={};void 0!==e.bindOptions&&(i=e.bindOptions),o=angular.extend(o,i)};l(),r=o.placeholder,e.$watch("bindOptions",function(){n.editor&&n.editor.destroy(),l(),n.$isEmpty(n.$viewValue)||(o.placeholder=""),n.editor=new MediumEditor(i,o)});var d=function(){e.$apply(function(){if("<p><br></p>"===i.html()||""===i.html()){o.placeholder=r;{new MediumEditor(i,o)}}n.$setViewValue(i.html()),"function"==typeof o.callback&&o.callback()})};i.on("blur",d),i.on("input",d),n.$render=function(){this.editor||(n.$isEmpty(n.$viewValue)||(o.placeholder=""),this.editor=new MediumEditor(i,o)),i.html(n.$isEmpty(n.$viewValue)?"":n.$viewValue),n.$isEmpty(n.$viewValue)||angular.element(i).removeClass("medium-editor-placeholder")}}}});